<!DOCTYPE html>
<html lang="fr">
<head>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-X97H6MRF2T"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-X97H6MRF2T');
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ECB Objets en vente</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .font-serif { font-family: 'Playfair Display', serif; }
        
        .category-card {
            transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
        }
        .category-card:hover {
            transform: scale(1.02);
        }
        .category-image {
            transition: transform 0.8s ease;
        }
        .category-card:hover .category-image {
            transform: scale(1.1);
        }
        .overlay-gradient {
            background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.2) 50%, rgba(0,0,0,0) 100%);
        }
    </style>
</head>
<body class="bg-[#fdfcfb] text-stone-900">

    <!-- Hero Header -->
    <header class="py-16 px-6 text-center border-b border-stone-100 bg-white">
        <h1 class="font-serif text-5xl md:text-6xl font-medium tracking-tight mb-4">Nos objets en vente</h1>
        <div class="w-24 h-px bg-stone-300 mx-auto mb-6"></div>
        <p class="text-stone-500 max-w-xl mx-auto italic text-lg">
            Ojets de valeur, de collection ou occasion en vente actuellement. <br>
            Clickez sur une catégorie pour découvrir les pièces disponibles.
        </p>
    </header>

    <main class="max-w-7xl mx-auto px-6 py-16">
        <!-- Categories Container -->
        <div id="category-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
            <!-- Dynamically generated category cards will appear here -->
        </div>
    </main>

    <footer class="py-20 border-t border-stone-100 bg-white text-center">
        <div class="max-w-7xl mx-auto px-6">
            <p class="font-serif text-2xl mb-4">ECB BADEL</p>
            <p class="text-stone-400 text-sm uppercase tracking-widest">Visites sur place possibles sur rdv</p>
             <hr class="mb-8">
            <div id="footer-copyright" class="text-gray-500 text-sm font-medium">
                <!-- JavaScript will inject content here -->
                Loading copyright information...
            </div>
        </div>
    </footer>
    
    <script src="/js/copyright.js"></script>
    <script>
        const productsData = {
            "horlogerie": [
                { "id": "HOR-01", "name": "HORLOGE COMTOISE 01", "price": "950", "active": true },
                { "id": "HOR-02", "name": "HORLOGE COMTOISE 02", "price": "", "active": true },
                { "id": "HOR-03", "name": "HORLOGE COMTOISE", "price": "", "active": true },
                { "id": "HOR-04", "name": "HORLOGE COMTOISE", "price": "", "active": true },
                { "id": "HOR-05", "name": "HORLOGE COMTOISE", "price": "", "active": true },
                { "id": "HOR-06", "name": "HORLOGE COMTOISE", "price": "", "active": true },
                { "id": "HOR-07", "name": "HORLOGE COMTOISE", "price": "", "active": true },
                { "id": "HOR-08", "name": "HORLOGE COMTOISE", "price": "", "active": true },
                { "id": "HOR-09", "name": "HORLOGE COMTOISE", "price": "", "active": true },
                { "id": "HOR-10", "name": "HORLOGE COMTOISE", "price": "", "active": true }
            ],
            "miroirs": [
                { "id": "MIR-01", "name": "MIROIR-01", "price": 380, "active": true },
                { "id": "MIR-02", "name": "MIROIR 02", "price": 1, "active": true },
                { "id": "MIR-03", "name": "MIROIR-03", "price": 1, "active": true },
                { "id": "MIR-04", "name": "MIROIR-04", "price": 1, "active": true },
                { "id": "MIR-05", "name": "MIROIR-05", "price": 1, "active": true },
                { "id": "MIR-06", "name": "MIROIR-06", "price": 1, "active": true }
            ],
            "véhicules": [
                { "id": "VEH-01", "name": "LAND ROVER FREELANDER TD4", "price": 3200, "active": true }
            ]
        };

        function generateCategories() {
            const grid = document.getElementById('category-grid');
            
            // Get all keys (categories) from the data
            const categories = Object.keys(productsData);

            const html = categories.map(cat => {
                const items = productsData[cat];
                const activeCount = items.filter(i => i.active).length;

                // Only show category if it has active products
                if (activeCount === 0) return '';

                // Per instruction: filenames are category_name.webp in current folder
                const imagePath = `${cat}.webp`;

                return `
                <a href="${cat}/index.html" class="category-card relative group block aspect-[4/5] overflow-hidden rounded-sm bg-stone-200 shadow-sm">
                    <!-- Image Background -->
                    <img 
                        src="${imagePath}" 
                        alt="${cat}" 
                        class="category-image w-full h-full object-cover"
                        onerror="this.src='https://placehold.co/600x800/e7e5e4/44403c?text=${cat.toUpperCase()}'"
                    >
                    
                    <!-- Overlay Text -->
                    <div class="overlay-gradient absolute inset-0 flex flex-col justify-end p-8 text-white">
                        <span class="text-xs uppercase tracking-[0.3em] mb-2 opacity-80 font-medium">
                            ${activeCount} Pièce${activeCount > 1 ? 's' : ''}
                        </span>
                        <h2 class="font-serif text-3xl capitalize mb-4 tracking-wide group-hover:translate-x-2 transition-transform duration-500">
                            ${cat}
                        </h2>
                        <div class="flex items-center gap-2 text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-500">
                            <span>Explorer la collection</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                            </svg>
                        </div>
                    </div>
                </a>
                `;
            }).join('');

            grid.innerHTML = html;
        }

        window.onload = generateCategories;
    </script>
</body>
</html>